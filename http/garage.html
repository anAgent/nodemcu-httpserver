<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
   <title>Garage Remote</title>
   <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
   <link href="garage-door.css" rel="stylesheet">
</head>
<body>
<div class="container">
   <div class="row">
      <button type="button" class="btn btn-default btn-lg btn-block" data-door="1">Door 1</button>
      <button type="button" class="btn btn-default btn-lg btn-block" data-door="2">Door 2</button>
   </div>
</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script>
   $(function () {

      function pushButton(door, $button) {
         $button.attr('disabled', 'disabled');

         return $.ajax({
            url: 'gd.lua',
            data: {
               door: door
            }
         }).then(function (data) {

         }).always(function () {
            $button.removeAttr('disabled')
         });
      }

      $('button.btn').on('click', function (e) {
         var $button = $(this);
         pushButton($button.data('door'), $button);
      });

   });
</script>
</body>
</html>

